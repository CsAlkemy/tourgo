"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var mathjs=require("mathjs"),ZERO_TO_NINETEEN_MAP=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],TWENTY_TO_NINETY_MAP={20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety"},ILLIONS=["thousand","million","billion","trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion","decillion","undecillion","duodecillion","tredecillion","quattuordecillion","quindecillion","sexdecillion","septendecillion","octodecillion","novemdecillion","vigintillion","unvigintillion","dovigintillion","trevigintillion","quattuorvigintillion","quinvigintillion","sexvigintillion","septenvigintillion","octovigintillion","novemvigintillion","trigintillion","untrigintillion","dotrigintillion","tretrigintillion","quattuortrigintillion","quintrigintillion","sextrigintillion","septentrigintillion","octotrigintillion","novemtrigintillion"];function isBlank(i){return/^\s*$/.test(makeString(i))}function isNumeric(i){return!isNaN(parseFloat(i))&&isFinite(i)}function isString(i){return"string"==typeof i}function eachSlice(i,n,e){void 0===n&&(n=1);for(var t=0,l=i.length;t<l;t+=n)e(i.slice(t,t+n))}function last(i){return i?i[i.length-1]:void 0}function makeString(i){return null==i?"":""+i}function numberToNonExponentString(i){var n,e=(i||0).toString(),t=e.match(/e([\+\-]?)/);if(t){var l,o=t[0],r=e.split(o).slice(0,2),s=r[0],a=parseInt(r[1],10),u=s.split(".").slice(0,2),g="";l=u[0],g=(g=void 0===(n=u[1])?"":n).replace(/0+$/g,""),e="e-"===o?"0."+repeat("0",a-1)+l+g:("0"===l?"":l)+g+repeat("0",a-g.length)}return e}function parseBigOrZero(i){return mathjs.bignumber(isNumeric(i)?i:0)}function parseZeroPaddedInt(i){if(isBlank(i)||0===i||"0"===i||isBlank(i.toString().replace(/0/g,"")))return 0;var n=(i=i.toString()).search(/(?!0)/);return parseInt(i.slice(n,i.length),10)}function repeat(i,n){var e,t="";for(e=0;e<n;e++)t+=i;return t}function numberToWords(i){var n,e,t,l,a=[],o="",u="";return(l=(e="number"==typeof i?parseBigOrZero(i).toString().replace(/^\s+$/gm,""):mathjs.bignumber(makeString(i).replace(/^\s+|\s+$/gm,"").replace(/\$|\%|\,|\_/g,"")).toString()).match(/^\-/)?"negative ":"")&&(e=e.replace(/^\-/,"")),o=(t=numberToNonExponentString(e).split(".").slice(0,2))[0],n=t[1],[o,u=(u=void 0===n?"":n).replace(/0+$/g,"")].forEach(function(i,n){if(i&&0!==i.length){var o=1===n;if(o&&0<u.length&&a.push("and"),o||0!==parseZeroPaddedInt(i))if(o&&0===parseZeroPaddedInt(i));else{var e=i.length%3,t=repeat("0",0==e?0:3-e);i=o?i+t:t+i;var r=0,s=Math.floor(i.length/3)-1;if(eachSlice(i.split(""),3,function(i){var n=parseZeroPaddedInt(i.join("")),e=Math.floor(n/100),t=Math.floor((n-100*e)/10),l=Math.floor(n-100*e-10*t);o&&1===u.length?(a.push(ZERO_TO_NINETEEN_MAP[e]),a.push("and"===a[a.length-2]&&"one"===last(a)?"tenth":"tenths")):o&&2===u.length?(e<2&&(0<e||0<t)?a.push(ZERO_TO_NINETEEN_MAP[10*e+t]):2<=e&&(a.push(TWENTY_TO_NINETY_MAP[10*e]),0<t&&a.push(ZERO_TO_NINETEEN_MAP[t])),a.push("and"===a[a.length-2]&&"one"===last(a)?"one-hundreth":"one-hundreths")):(0<e&&a.push(ZERO_TO_NINETEEN_MAP[e],"hundred"),t<2&&(0<t||0<l)?a.push(ZERO_TO_NINETEEN_MAP[10*t+l]):2<=t&&(a.push(TWENTY_TO_NINETY_MAP[10*t]),0<l&&a.push(ZERO_TO_NINETEEN_MAP[l]))),r!==s&&0!==n&&a.push(ILLIONS[s-r-1]),r+=1}),o&&2<u.length){var l=ILLIONS[Math.floor(i.length/3)-1];a.push("one-"+l+("and"===a[a.length-2]&&"one"===last(a)?"th":"ths"))}}else a.push("zero")}}),l+a.join(" ")}exports.numberToWords=numberToWords;
