{"version":3,"sources":["middlewares/ValidationErrorMiddleware.ts"],"names":[],"mappings":"AAIA;;GAEG;AACH,qBACa,yBAAyB;IACpC,GAAG,CAAQ,KAAK,EAAE,GAAG;CAStB","file":"ValidationErrorMiddleware.d.ts","sourcesContent":["import {Err, Middleware} from \"@tsed/common\";\nimport {getClass, nameOf} from \"@tsed/core\";\nimport {BadRequest} from \"ts-httpexceptions\";\n\n/**\n * @middleware\n */\n@Middleware()\nexport class ValidationErrorMiddleware {\n  use(@Err() error: any) {\n    if (error && nameOf(getClass(error)) === \"MongooseError\") {\n      const err = new BadRequest(error.message);\n      err.stack = error.stack;\n      throw err;\n    }\n\n    throw error;\n  }\n}\n"],"sourceRoot":"../../src"}